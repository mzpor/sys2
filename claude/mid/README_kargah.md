# ماژول مدیریت کارگاه‌ها (Kargah Module)

## 📋 توضیحات

ماژول مدیریت کارگاه‌ها یک سیستم کامل برای مدیریت کارگاه‌های آموزشی است که به مدیران امکان اضافه کردن، ویرایش و مشاهده کارگاه‌ها را می‌دهد.

## 🚀 ویژگی‌ها

### ✅ قابلیت‌های اصلی
- **لیست کارگاه‌ها**: مشاهده تمام کارگاه‌های ثبت شده
- **اضافه کردن کارگاه**: ثبت کارگاه جدید با نام مربی، هزینه و لینک
- **ویرایش کارگاه**: تغییر اطلاعات کارگاه‌های موجود
- **حذف کارگاه**: حذف کارگاه‌های غیرضروری

### 🔐 کنترل دسترسی
- فقط مدیران می‌توانند به این ماژول دسترسی داشته باشند
- بررسی مجوز بر اساس `ADMIN_USER_IDS` در فایل `config.py`

## 📁 ساختار فایل‌ها

```
claude/
├── kargah_module.py      # ماژول اصلی مدیریت کارگاه‌ها
├── workshops.json        # فایل ذخیره‌سازی کارگاه‌ها
├── test_kargah.py       # فایل تست ماژول
└── README_kargah.md     # این فایل
```

## 🎯 نحوه استفاده

### 1. دسترسی به منوی کارگاه
```
/kargah
```

### 2. گزینه‌های منوی اصلی
- **📋 لیست کارگاه‌ها**: مشاهده تمام کارگاه‌ها
- **📝 اضافه کردن کارگاه**: ثبت کارگاه جدید
- **✏️ ویرایش کارگاه**: تغییر اطلاعات کارگاه‌ها
- **🔙 بازگشت**: بازگشت به منوی اصلی

### 3. فرآیند اضافه کردن کارگاه
1. انتخاب "📝 اضافه کردن کارگاه"
2. وارد کردن نام مربی
3. وارد کردن هزینه کارگاه
4. وارد کردن لینک گروه
5. تأیید و ذخیره

### 4. فرآیند ویرایش کارگاه
1. انتخاب "✏️ ویرایش کارگاه"
2. انتخاب کارگاه مورد نظر
3. انتخاب فیلد مورد نظر برای ویرایش:
   - ✏️ ویرایش نام مربی
   - 💰 ویرایش هزینه
   - 🔗 ویرایش لینک
   - 🗑️ حذف کارگاه

## 📊 ساختار داده‌ها

### فایل workshops.json
```json
{
  "01": {
    "instructor_name": "آقای رشوند",
    "cost": "500,000 تومان",
    "link": "https://t.me/workshop1"
  },
  "02": {
    "instructor_name": "آقای حتم خانی",
    "cost": "500,000 تومان",
    "link": "https://t.me/workshop2"
  }
}
```

## 🔧 تنظیمات

### اضافه کردن مدیر جدید
در فایل `config.py`:
```python
ADMIN_USER_IDS = [
    1114227010,   # محمد ۱
    1775811194,   # محرابی
    # اضافه کردن مدیر جدید
    1234567890,   # مدیر جدید
]
```

## 🧪 تست

برای تست ماژول:
```bash
python test_kargah.py
```

## 📝 نکات مهم

1. **پشتیبان‌گیری**: فایل `workshops.json` به صورت خودکار پشتیبان‌گیری می‌شود
2. **امنیت**: فقط مدیران می‌توانند به این ماژول دسترسی داشته باشند
3. **محدودیت**: حداکثر 4096 کاراکتر برای هر فیلد
4. **کدگذاری**: تمام داده‌ها با UTF-8 ذخیره می‌شوند

## 🐛 عیب‌یابی

### مشکلات رایج:
1. **خطای دسترسی**: اطمینان حاصل کنید که کاربر در `ADMIN_USER_IDS` قرار دارد
2. **خطای فایل**: بررسی کنید که فایل `workshops.json` قابل نوشتن باشد
3. **خطای شبکه**: بررسی اتصال اینترنت برای ارسال پیام‌ها

## 📞 پشتیبانی

در صورت بروز مشکل، لطفاً موارد زیر را بررسی کنید:
- لاگ‌های سیستم
- تنظیمات `config.py`
- دسترسی‌های فایل
- اتصال شبکه 