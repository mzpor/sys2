# راهنمای سریع ماژول کارگاه - نسخه بهبود یافته

## 🚀 مشکلات حل شده

### ✅ مشکل 1: ویرایش هزینه کار نمی‌کرد
**راه حل:** 
- پیام‌های متنی حالا به درستی به ماژول کارگاه هدایت می‌شوند
- نرمال‌سازی اعداد فارسی و انگلیسی اضافه شده

### ✅ مشکل 2: منوی پیچیده بود
**راه حل:**
- منوی ساده‌تر با نمایش مستقیم لیست
- همه چیز در یک صفحه

## 📱 نحوه استفاده جدید

### 1. دسترسی
```
/kargah
```

### 2. منوی جدید
```
🏭 مدیریت کارگاه‌ها

📋 لیست کارگاه‌های ثبت شده:
• آقای رشوند - 500,000 تومان
• آقای حتم خانی - 500,000 تومان

برای ویرایش، روی کارگاه مورد نظر کلیک کنید:

[📚 آقای رشوند - 500,000 تومان]
[📚 آقای حتم خانی - 500,000 تومان]
[📝 اضافه کردن کارگاه]
[🔙 بازگشت]
```

### 3. ویرایش هزینه - حالا کار می‌کند!

**مراحل:**
1. روی کارگاه کلیک کنید
2. روی "💰 ویرایش هزینه" کلیک کنید
3. هزینه جدید را وارد کنید:

**مثال‌های ورودی:**
- `۱۰۰۰۰` → `10000 تومان`
- `10000` → `10000 تومان`
- `۵۰۰,۰۰۰ تومان` → `500,000 تومان`
- `750000` → `750000 تومان`
- `۱,۰۰۰,۰۰۰ تومان` → `1,000,000 تومان`

### 4. اضافه کردن کارگاه
1. روی "📝 اضافه کردن کارگاه" کلیک کنید
2. نام مربی را وارد کنید
3. هزینه را وارد کنید (هر فرمتی)
4. لینک گروه را وارد کنید

## 🔧 ویژگی‌های جدید

### ✅ نرمال‌سازی اعداد
- اعداد فارسی به انگلیسی تبدیل می‌شوند
- اگر فقط عدد وارد شود، "تومان" اضافه می‌شود
- فرمت‌های مختلف پذیرفته می‌شوند

### ✅ هدایت صحیح پیام‌ها
- پیام‌های متنی حالا به درستی به ماژول کارگاه می‌روند
- وضعیت کاربر بررسی می‌شود

### ✅ پیام‌های راهنما
- مثال‌های واضح برای ورودی‌ها
- نمایش هزینه فعلی در زمان ویرایش

## 🧪 تست عملکرد

برای اطمینان از عملکرد:
```bash
python test_cost_normalization.py
```

## 🆘 عیب‌یابی

### اگر هنوز مشکل دارید:
1. ربات را دوباره راه‌اندازی کنید
2. مطمئن شوید که مدیر هستید
3. لاگ‌ها را بررسی کنید

### پیام‌های خطا:
- `❌ کارگاه مورد نظر یافت نشد` → کارگاه وجود ندارد
- `❌ خطا در ویرایش کارگاه` → مشکل در پردازش
- `❌ شما دسترسی لازم را ندارید` → مدیر نیستید

## ✅ نتیجه

حالا ویرایش هزینه باید کاملاً کار کند و می‌توانید:
- اعداد فارسی و انگلیسی وارد کنید
- هر فرمتی از هزینه را استفاده کنید
- به راحتی هزینه‌ها را تغییر دهید 