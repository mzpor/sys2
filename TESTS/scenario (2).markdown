# سناریو ربات مدیریت گروه بله

## 1. پیکربندی اولیه
- **توکن و API**:
  - `BOT_TOKEN = "1778171143:vD6rjJXAYidLL7hQyQkBeu5TJ9KpRd4zAKegqUt3"`.
  - آدرس‌ها:
    - `API_URL = f"https://tapi.bale.ai/bot{BOT_TOKEN}/getUpdates"`
    - `SEND_URL = f"https://tapi.bale.ai/bot{BOT_TOKEN}/sendMessage"`
    - `BASE_URL = f"https://tapi.bale.ai/bot{BOT_TOKEN}"`
- **کتابخانه‌ها**:
  - `jdatetime`: تاریخ شمسی.
  - `requests`: ارتباط با API بله.
  - `json`: مدیریت JSON.
  - `time`: مدیریت زمان.
  - `re`: اعتبارسنجی با عبارات منظم.
  - `logging`: گزارش‌های انگلیسی.
  - `os`: بررسی فایل.
  - `sys`: مدیریت سیستم.
- اولین کاربر به‌عنوان مدیر ثبت می‌شود.
- داده‌ها در فایل JSON ذخیره و با `os` بررسی می‌شوند.
- گزارش‌ها با `logging` به‌صورت انگلیسی (مثل: `INFO: User registered`).
- کد پایتون با کامنت‌های فارسی.

## 2. مدیر
- **ورود اولیه**:
  - `/start` → پیام:  
    _🌟 خوش آمدید! به ربات مدیریت آموزشگاه قرآنی خوش آمدید! لطفاً نام و نام خانوادگی خود را وارد کنید (مثال: علی رضایی)._  
  - کیبورد معمولی: `[شروع ثبت‌نام] [خروج]`  
  - نام (علی رضایی) → JSON: `{"admin": {"full_name": "علی رضایی", "first_name": "علی"}}`  
  - پیام:  
    _علی عزیز،  
    نام شما: علی رضایی  
    تلفن: هنوز مانده_  
  - کیبورد شیشه‌ای:  
    ```
    [[{text: "✏️ تصحیح نام", callback_data: "edit_admin_name"}, {text: "📱 ارسال تلفن", callback_data: "send_admin_phone"}]]
    ```
  - تلفن (`+989123456789`) → بررسی با `re`: `+98` و 13 کاراکتر.  
  - JSON: `{"admin": {"full_name": "علی رضایی", "first_name": "علی", "phone": "+989123456789"}}`  
  - پیام:  
    _🎉 علی عزیز، شما به‌عنوان مدیر ثبت شدید! پنل کاربری شما آماده است._  
  - کیبورد معمولی: `[🔁 شروع جدید] [🚫 خروج] [🧹 پاک‌سازی اطلاعات]`  
  - کیبورد شیشه‌ای: `[[{text: "📊 پنل کاربری", callback_data: "admin_panel"}]]`

- **ورود بعدی**:
  - پیام: _علی عزیز، خوش آمدید! به پنل مدیریتی دسترسی دارید._  
  - کیبورد معمولی: `[🔁 شروع جدید] [🚫 خروج] [🧹 پاک‌سازی اطلاعات]`  
  - کیبورد شیشه‌ای: `[[{text: "📊 پنل کاربری", callback_data: "admin_panel"}]]`

- **پنل مدیریتی**:
  - نمایش/افزودن/ویرایش کلاس‌ها و لینک گروه با `requests`.
  - ذخیره در JSON با `json`.
  - گزارش: `INFO: Admin panel accessed`.

## 3. گروه
- ورود ربات: _👋 سلام! برای استفاده از امکانات، مرا ادمین کنید. 🌟_  
- پس از ادمین شدن:  
  _📅 امروز: [شنبه، ۱ فروردین] (با `jdatetime`)  
  برای عضویت در روم، روی /عضو ضربه بزنید._  
- گزارش: `INFO: Bot added to group`.

## دستورالعمل‌ها
- **پیام‌ها**: فارسی، با ایموجی‌های 🌟، ✅، ✏️، 📍، 📱، 📋، 🎉.
- **کیبوردها**: معمولی (`[🔁 شروع جدید] [🚫 خروج] [🧹 پاک‌سازی اطلاعات]`)، شیشه‌ای برای مراحل.
- **JSON**: ذخیره داده‌ها با `json` و بررسی با `os`.
- **خطاها**: اعتبارسنجی با `re` (تلفن: `+98`، 13 کاراکتر).
- **گزارش‌ها**: انگلیسی با `logging`.
- **کد**: پایتون با کامنت‌های فارسی، مدیریت زمان با `time`.